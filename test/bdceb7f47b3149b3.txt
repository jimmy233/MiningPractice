int main()
{
   int VAR__53647;

   for ( VAR__53647 = 0; VAR__53647 < 100; VAR__53647++ )
   {
      char VAR__819283[100]  = { '\0' };
      char VAR__19328[100]   = { '\0' };
      int  VAR__4857423[100] = { 0 };
      int  VAR__12302[100]   = { 0 };
      int  VAR__8444594;
      int  VAR__1238129;
      int  VAR__temp    = 0;
      int  c1           = 0;
      int  c2           = 0;
      int  j1           = 0;
      int  j2           = 0;
      int  VAR__9290    = 0;
      int  VAR__3918907 = 0;
      int  VAR_2890     = 0;
      scanf("%s", VAR__819283);
      int VAR__1111 = strlen(VAR__819283);
      for ( VAR__8444594 = 0; VAR__8444594 < VAR__1111; VAR__8444594++ )
      {
         if ( VAR__819283[VAR__8444594] == '(' )
         {
            c1 = VAR__8444594;
            VAR__4857423[j1] = VAR__8444594;
            j1++;
         }
         else
         if ( VAR__819283[VAR__8444594] == ')' )
         {
            c2             = VAR__8444594;
            VAR__12302[j2] = VAR__8444594;
            j2++;
         }
         else
         {
            VAR__19328[VAR__8444594] = ' ';
         }
      }

      for ( VAR__8444594 = 0; VAR__8444594 < j2; VAR__8444594++ )
      {
         for ( VAR__1238129 = 0; VAR__1238129 < j1; VAR__1238129++ )
         {
            if ( VAR__12302[VAR__8444594] > VAR__4857423[VAR__1238129] )
            {
               VAR__3918907++;

               if ( VAR__4857423[VAR__1238129] != ( -1 ))
               {
                  VAR__temp++;
                  VAR_2890 = VAR__1238129;
               }
               else
               {
                  VAR__9290 = VAR__1238129;
               }
            }
         }


         if ( VAR__temp == 0 )
         {
            VAR__19328[VAR__12302[VAR__8444594]] = '?';
            VAR__12302[VAR__8444594]             = -1;
         }
         else
         {
            if ( VAR__9290 != ( VAR__3918907 - 1 ))
            {
               VAR__19328[VAR__4857423[VAR__3918907 - 1]] = ' ';
               VAR__4857423[VAR__3918907 - 1]             = -1;
               VAR__19328[VAR__12302[VAR__8444594]]       = ' ';
               VAR__12302[VAR__8444594] = -1;
            }
            else
            {
               VAR__19328[VAR__4857423[VAR_2890]]   = ' ';
               VAR__4857423[VAR_2890]               = -1;
               VAR__19328[VAR__12302[VAR__8444594]] = ' ';
               VAR__12302[VAR__8444594]             = -1;
            }
         }

         VAR__temp    = 0;
         VAR__3918907 = 0;
      }

      for ( VAR__8444594 = 0; VAR__8444594 < j1; VAR__8444594++ )
      {
         if ( VAR__4857423[VAR__8444594] != ( -1 ))
         {
            VAR__19328[VAR__4857423[VAR__8444594]] = '$';
         }
      }

      for ( VAR__8444594 = 0; VAR__8444594 < j2; VAR__8444594++ )
      {
         if ( VAR__12302[VAR__8444594] != ( -1 ))
         {
            VAR__19328[VAR__12302[VAR__8444594]] = '?';
         }
      }

      printf("%s\n", VAR__819283);
      for ( VAR__8444594 = 0; VAR__8444594 < VAR__1111; VAR__8444594++ )
      {
         printf("%c", VAR__19328[VAR__8444594]);
      }

      printf("\n");
   }

   getchar();
   getchar();
}
