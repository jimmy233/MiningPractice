int main()
{
   int VAR_129012;
   int VAR__4857423;

   ( cin >> VAR_129012 ) >> VAR__4857423;
   int VAR__819283[VAR_129012][VAR__4857423];
   int VAR__19328[VAR_129012 + 2][VAR__4857423 + 2];
   int VAR__12302[VAR_129012 * VAR__4857423];
   for ( int ii = 0; ii < ( VAR_129012 + 2 ); ii++ )
   {
      for ( int jj = 0; jj < ( VAR__4857423 + 2 ); jj++ )
      {
         VAR__19328[ii][jj] = 1;
      }
   }

   for ( int VAR__53647 = 0; VAR__53647 < VAR_129012; VAR__53647++ )
   {
      for ( int VAR__21230 = 0; VAR__21230 < VAR__4857423; VAR__21230++ )
      {
         cin >> VAR__819283[VAR__53647][VAR__21230];
         VAR__19328[VAR__53647 + 1][VAR__21230 + 1] = 0;
      }
   }

   int ii = 0;
   int jj = 0;
   VAR__19328[1][1] = 1;
   VAR__12302[0]    = VAR__819283[0][0];
   for ( int VAR__1238129 = 1; VAR__1238129 < ( VAR_129012 * VAR__4857423 ); VAR__1238129++ )
   {
      if ((((( jj + 1 ) < VAR__4857423 ) && ( VAR__19328[ii + 1][( jj + 1 ) + 1] == 0 )) && ( VAR__19328[( ii - 1 ) + 1][jj + 1] == 1 )) && ( VAR__19328[ii + 1][( jj - 1 ) + 1] == 1 ))
      {
         jj++;
         VAR__12302[VAR__1238129] = VAR__819283[ii][jj];
         VAR__19328[ii + 1][jj + 1]++;
      }
      else
      if ((((( ii + 1 ) < VAR_129012 ) && ( VAR__19328[( ii + 1 ) + 1][jj + 1] == 0 )) && ( VAR__19328[ii + 1][( jj + 1 ) + 1] == 1 )) && ( VAR__19328[( ii - 1 ) + 1][jj + 1] == 1 ))
      {
         ii++;
         VAR__12302[VAR__1238129] = VAR__819283[ii][jj];
         VAR__19328[ii + 1][jj + 1]++;
      }
      else
      if ((((( jj - 1 ) >= 0 ) && ( VAR__19328[ii + 1][( jj - 1 ) + 1] == 0 )) && ( VAR__19328[( ii + 1 ) + 1][jj + 1] == 1 )) && ( VAR__19328[ii + 1][( jj + 1 ) + 1] == 1 ))
      {
         jj--;
         VAR__12302[VAR__1238129] = VAR__819283[ii][jj];
         VAR__19328[ii + 1][jj + 1]++;
      }
      else
      if ((((( ii - 1 ) >= 1 ) && ( VAR__19328[( ii - 1 ) + 1][jj + 1] == 0 )) && ( VAR__19328[ii + 1][( jj - 1 ) + 1] == 1 )) && ( VAR__19328[( ii + 1 ) + 1][jj + 1] == 1 ))
      {
         ii--;
         VAR__12302[VAR__1238129] = VAR__819283[ii][jj];
         VAR__19328[ii + 1][jj + 1]++;
      }
   }

   for ( int VAR__127322 = 0; VAR__127322 < ( VAR_129012 * VAR__4857423 ); VAR__127322++ )
   {
      ( cout << VAR__12302[VAR__127322] ) << endl;
   }

   return 0;
}
