int main()
{
   int VAR_1238123;

   cin >> VAR_1238123;
   char VAR__819283[VAR_1238123][VAR_1238123];
   int  t1;
   int  t2;
   int  t3;
   for ( t1 = 0; t1 < VAR_1238123; ++t1 )
   {
      for ( t2 = 0; t2 < VAR_1238123; ++t2 )
      {
         cin >> VAR__819283[t1][t2];
      }
   }


   int VAR__1238129;
   cin >> VAR__1238129;
   for ( t1 = 1; t1 < VAR__1238129; ++t1 )
   {
      for ( t2 = 0; t2 < VAR_1238123; ++t2 )
      {
         for ( t3 = 0; t3 < VAR_1238123; ++t3 )
         {
            if ( VAR__819283[t2][t3] == '@' )
            {
               if (( t2 != 0 ) && ( t2 != ( VAR_1238123 - 1 )))
               {
                  if ( VAR__819283[t2 - 1][t3] == '.' )
                  {
                     VAR__819283[t2 - 1][t3] = 'T';
                  }

                  if ( VAR__819283[t2 + 1][t3] == '.' )
                  {
                     VAR__819283[t2 + 1][t3] = 'T';
                  }
               }

               if ( t2 == 0 )
               {
                  if ( VAR__819283[1][t3] == '.' )
                  {
                     VAR__819283[1][t3] = 'T';
                  }
               }


               if ( t2 == ( VAR_1238123 - 1 ))
               {
                  if ( VAR__819283[VAR_1238123 - 2][t3] == '.' )
                  {
                     VAR__819283[VAR_1238123 - 2][t3] = 'T';
                  }
               }


               if (( t3 != 0 ) && ( t3 != ( VAR_1238123 - 1 )))
               {
                  if ( VAR__819283[t2][t3 - 1] == '.' )
                  {
                     VAR__819283[t2][t3 - 1] = 'T';
                  }

                  if ( VAR__819283[t2][t3 + 1] == '.' )
                  {
                     VAR__819283[t2][t3 + 1] = 'T';
                  }
               }

               if ( t3 == 0 )
               {
                  if ( VAR__819283[t2][1] == '.' )
                  {
                     VAR__819283[t2][1] = 'T';
                  }
               }


               if ( t3 == ( VAR_1238123 - 1 ))
               {
                  if ( VAR__819283[t2][VAR_1238123 - 2] == '.' )
                  {
                     VAR__819283[t2][VAR_1238123 - 2] = 'T';
                  }
               }
            }
         }
      }


      for ( t2 = 0; t2 < VAR_1238123; ++t2 )
      {
         for ( t3 = 0; t3 < VAR_1238123; ++t3 )
         {
            if ( VAR__819283[t2][t3] == 'T' )
            {
               VAR__819283[t2][t3] = '@';
            }
         }
      }
   }

   int total = 0;
   for ( t2 = 0; t2 < VAR_1238123; ++t2 )
   {
      for ( t3 = 0; t3 < VAR_1238123; ++t3 )
      {
         if ( VAR__819283[t2][t3] == '@' )
         {
            ++total;
         }
      }
   }



   cout << total;
   return 0;
}
