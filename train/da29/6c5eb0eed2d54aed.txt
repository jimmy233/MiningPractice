int  VAR_1238123;
char VAR__819283[110][110][2] = { 0 };
void cz(int VAR__8444594)
{
   if ( VAR__8444594 != 1 )
   {
      for ( int VAR__21230 = 1; VAR__21230 <= VAR_1238123; VAR__21230++ )
      {
         for ( int VAR__8444594 = 1; VAR__8444594 <= VAR_1238123; VAR__8444594++ )
         {
            if (( VAR__819283[VAR__21230][VAR__8444594][0] == 0 ) || ( VAR__819283[VAR__21230][VAR__8444594][0] == 2 ))
            {
               VAR__819283[VAR__21230][VAR__8444594][1] = VAR__819283[VAR__21230][VAR__8444594][0];
            }
            else
            {
               if (((( VAR__819283[VAR__21230 + 1][VAR__8444594][0] == 2 ) || ( VAR__819283[VAR__21230 - 1][VAR__8444594][0] == 2 )) || ( VAR__819283[VAR__21230][VAR__8444594 + 1][0] == 2 )) || ( VAR__819283[VAR__21230][VAR__8444594 - 1][0] == 2 ))
               {
                  VAR__819283[VAR__21230][VAR__8444594][1] = 2;
               }
               else
               {
                  VAR__819283[VAR__21230][VAR__8444594][1] = 1;
               }
            }
         }
      }

      for ( int VAR__21230 = 1; VAR__21230 <= VAR_1238123; VAR__21230++ )
      {
         for ( int VAR__8444594 = 1; VAR__8444594 <= VAR_1238123; VAR__8444594++ )
         {
            VAR__819283[VAR__21230][VAR__8444594][0] = VAR__819283[VAR__21230][VAR__8444594][1];
         }
      }

      cz(VAR__8444594 - 1);
   }
}


int main()
{
   int VAR__1238129;
   int ans = 0;

   cin >> VAR_1238123;
   for ( int VAR__53647 = 1; VAR__53647 <= VAR_1238123; VAR__53647++ )
   {
      for ( int VAR__21230 = 1; VAR__21230 <= VAR_1238123; VAR__21230++ )
      {
         cin >> VAR__819283[VAR__53647][VAR__21230][0];

         if ( VAR__819283[VAR__53647][VAR__21230][0] == '#' )
         {
            VAR__819283[VAR__53647][VAR__21230][0] = 0;
         }

         if ( VAR__819283[VAR__53647][VAR__21230][0] == '.' )
         {
            VAR__819283[VAR__53647][VAR__21230][0] = 1;
         }

         if ( VAR__819283[VAR__53647][VAR__21230][0] == '@' )
         {
            VAR__819283[VAR__53647][VAR__21230][0] = 2;
         }
      }
   }

   cin >> VAR__1238129;
   cz(VAR__1238129);
   for ( int VAR__53647 = 1; VAR__53647 <= VAR_1238123; VAR__53647++ )
   {
      for ( int VAR__21230 = 1; VAR__21230 <= VAR_1238123; VAR__21230++ )
      {
         if ( VAR__819283[VAR__53647][VAR__21230][0] == 2 )
         {
            ans++;
         }
      }
   }

   cout << ans;
   return 0;
}
